import{K as y,r as b,j as l,a as t,ae as I,ad as m,c as w,T as _,L as $,ar as S,as as L,a5 as v,at as F,au as q,q as N,av as P}from"./index.75547906.js";import{T as O,A as Q,C as V}from"./Container.de62a6da.js";import{T as D}from"./TextField.60cc1dec.js";import{B as f}from"./Button.359114d2.js";import{T as G}from"./Toolbar.ba9468f5.js";import{B as k}from"./Box.f78ee465.js";import{T as B}from"./Typography.891e39a8.js";import{L as H}from"./LinearProgress.f9451c44.js";import"./Paper.2c015233.js";import"./styled.b460346a.js";import"./FormControl.ee184ca9.js";import"./InputBase.c44c9015.js";import"./Select.4a83c0db.js";import"./extendSxProp.03d0c3b1.js";const R=e=>e<=0,K=({contract:e,index:r,handleStart:c,handleTransfer:a,handleDelete:n})=>{const{lang:s}=y(C=>C.lang),[p,i]=b.exports.useState(null),[u,g]=b.exports.useState(null);return l("div",{children:[t(I,{style:{display:"flex",backgroundColor:"rgba(22,22,22,1)",width:"50px",height:"50px",fontSize:"20px",marginTop:"15px",borderStyle:"solid",borderColor:"#9c64f4",marginRight:"auto",marginLeft:"auto"},children:e.class}),t("span",{style:{display:"block",marginTop:"10px",width:"100%",textAlign:"center",fontWeight:"600",fontSize:"24px",textTransform:"capitalize"},children:e.label}),t("span",{style:{display:"block",width:"100%",marginTop:"10px",textAlign:"center"},children:e.started?l(m,{children:[l("a",{style:{fontWeight:"600"},children:[s.boosting.plates,": "]}),e.plates]}):l(m,{children:[l("a",{style:{fontWeight:"600"},children:[s.boosting.price,":"]})," ",`${e.price} ${s.boosting.crypto}`]})}),t("span",{style:{display:"block",width:"100%",marginTop:"10px",textAlign:"center"},children:e.started?l(m,{children:[l("a",{style:{display:"block",fontWeight:"600"},children:[s.boosting.expires,":"]}),s.boosting.inprogress]}):l(m,{children:[l("a",{style:{fontWeight:"600"},children:[s.boosting.expires,":"]}),t(O,{deadline:e.seconds})]})}),(e.started,null),t("span",{className:"contract-button",style:{marginTop:"20px",color:p==r&u=="start"&!e.started?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.55)",backgroundColor:p==r&u=="start"&!e.started?"rgba(156,100,244,0.6)":"rgba(24, 24, 24, 0.98)"},onMouseEnter:()=>{g("start"),i(r)},onMouseLeave:()=>{g(null),i(null)},onClick:()=>{c(e,r)},children:t("a",{style:{marginTop:"auto",marginBottom:"auto",fontSize:"14px"},children:e.started?`${s.boosting.contract_started}`:`${s.boosting.start_contract}`})}),t("span",{className:"contract-button",style:{marginTop:"10px",color:p==r&u=="transfer"&!e.started?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.55)",backgroundColor:p==r&u=="transfer"&!e.started?"rgba(156,100,244,0.6)":"rgba(24, 24, 24, 0.98)"},onMouseEnter:()=>{g("transfer"),i(r)},onMouseLeave:()=>{g(null),i(null)},onClick:()=>{a(e,r)},children:t("a",{style:{marginTop:"auto",marginBottom:"auto",fontSize:"14px"},children:e.started?`${s.boosting.contract_started}`:`${s.boosting.transfer}`})}),t("span",{className:"contract-button",style:{marginTop:"10px",color:p==r&u=="decline"?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.55)",backgroundColor:p==r&u=="decline"?"rgba(156,100,244,0.6)":"rgba(24, 24, 24, 0.98)"},onMouseEnter:()=>{g("decline"),i(r)},onMouseLeave:()=>{g(null),i(null)},onClick:()=>{n(e)},children:t("a",{style:{marginTop:"auto",marginBottom:"auto",fontSize:"14px"},children:e.started?`${s.boosting.cancel}`:`${s.boosting.decline}`})})]})},Y=w({palette:{primary:{main:"rgba(255,255,255,1.0)"}}}),j=({contract:e,cancel:r,sendContract:c})=>{const{lang:a}=y(i=>i.lang),[n,s]=b.exports.useState(null),p=({target:i})=>{s(i.value)};return t("div",{children:t(_,{theme:Y,children:l("span",{className:"contract-input",children:[t("span",{style:{display:"block",width:"100%",marginTop:"30px"},children:a.boosting.transfer_contract}),t(D,{onChange:p,style:{width:"90%",marginTop:"20px",justifyContent:"center"},sx:{input:{background:"rgba(25,25,25,0.8)",color:"white",textAlign:"center"},"& .MuiInput-underline:before":{borderBottomColor:"rgba(255,255,255,0.6)"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(255,255,255,0.6)"},"& .MuiFormLabel-root":{color:"rgba(255,255,255,0.6)"}},variant:"outlined"}),t(f,{onClick:()=>{!n||!Number(n)||(c(e,n),r(null))},style:{marginTop:"10px",width:"110px"},sx:{backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(144,144,144,0.4)"}},children:a.boosting.transfer_button}),t(f,{style:{marginTop:"10px",width:"110px"},sx:{backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(144,144,144,0.4)"}},onClick:()=>{r(null)},children:a.boosting.cancel_button})]})})})},J=w({palette:{primary:{main:"rgba(255,255,255,1.0)"}}}),U=({contract:e,start:r,setCurrentStart:c})=>{const{lang:a}=y(s=>s.lang),{crypto:n}=y(s=>s.boosting);return t("div",{children:t(_,{theme:J,children:l("span",{className:"contract-input",children:[t("span",{style:{display:"block",width:"100%",marginTop:"30px"},children:`${a.boosting.start_heading} ${e.priceVin} ${a.boosting.crypto}`}),t(f,{style:{marginTop:"20px",width:"110px",fontSize:"14px"},sx:{backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(144,144,144,0.4)"}},onClick:()=>{r(e,"normal")},children:a.boosting.normal_button}),t(f,{style:{marginTop:"10px",width:"110px",fontSize:"14px"},sx:{backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(144,144,144,0.4)"},"&:disabled":{color:"rgba(255,255,255,0.5)"}},onClick:()=>{r(e,"vin")},disabled:n<e.priceVin,children:a.boosting.vin_button}),t(f,{style:{marginTop:"10px",width:"110px",fontSize:"14px"},sx:{backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(144,144,144,0.4)"}},onClick:()=>{c(null)},children:a.boosting.cancel_button})]})})})},X=()=>{const e=$(),{contracts:r,crypto:c,inContract:a}=y(o=>o.boosting),[n,s]=b.exports.useState(null),[p,i]=b.exports.useState(null),[u,g]=b.exports.useState(null),C=(o,d)=>{if(d=="vin"){let x=o.priceVin+o.price;if(c>=x){const h=r.map(T=>T.serial===o.serial?{...T,started:!0}:T);i(null),e(S({contracts:h})),e(L({crypto:c-o.price})),v.post("https://av_boosting/start",{contract:o,type:d})}}else if(c>=o.price){const x=r.map(h=>h.serial===o.serial?{...h,started:!0}:h);i(null),e(S({contracts:x})),e(L({crypto:c-o.price})),v.post("https://av_boosting/start",{contract:o,type:d})}},z=(o,d)=>{o.started||a||R(o.seconds)||c>=o.price&&(g(o),i(d))},E=(o,d)=>{o.started||R(o.seconds)||(s(d),g(o))},M=(o,d)=>{if(v.post("https://av_boosting/transfer",{contract:o,target:d}),r.find(h=>h.serial===o.serial)){const h=r.filter(T=>T.serial!==o.serial);e(S({contracts:h}))}},A=o=>{if(v.post("https://av_boosting/delete",{contract:o}),r.find(x=>x.serial===o.serial)){const x=r.filter(h=>h.serial!==o.serial);e(S({contracts:x}))}};return t("div",{style:{marginTop:"20px",width:"auto",height:"calc(82%)",marginLeft:"15px",marginRight:"auto",overflow:"auto",overflowY:"scroll"},children:r.map((o,d)=>l("div",{className:"contract-box",children:[n===d&&t(m,{children:t(j,{contract:u,index:n,cancel:s,sendContract:M})}),n!==d&&p!==d&&t(m,{children:t(K,{contract:o,index:d,handleStart:z,handleTransfer:E,handleDelete:A})}),p===d&&t(m,{children:t(U,{contract:u,start:C,setCurrentStart:i})})]},d))})},Z=w({palette:{secondary:{main:"rgba(23,23,23,0.0)"}}}),tt=({setCurrentIndex:e,currentIndex:r})=>{const c=$(),{lang:a}=y(C=>C.lang),{queue:n,photo:s,crypto:p}=y(C=>C.boosting),[i,u]=b.exports.useState(n),g=()=>{c(q({queue:!i})),u(!i),v.post("https://av_boosting/queue",{queue:!i})};return t(_,{theme:Z,children:t(Q,{position:"static",color:"secondary",sx:{boxShadow:"1px 2px 2px rgba(0, 0, 0, 0.0)"},children:t(V,{maxWidth:"100%",children:l(G,{disableGutters:!0,children:[l(k,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[t(f,{disableElevation:!0,disableRipple:!0,disableFocusRipple:!0,sx:{color:"white",fontWeight:"500",backgroundColor:r===1&&"rgba(156,100,244,0.8)","&:hover":{backgroundColor:r===1&&"rgba(156,100,244,0.8)"}},variant:"filled",onClick:()=>{e(1)},children:a.boosting.my_contracts}),t(f,{disableElevation:!0,disableRipple:!0,disableFocusRipple:!0,sx:{color:"white",fontWeight:"500",backgroundColor:r===2&&"rgba(156,100,244,0.8)","&:hover":{backgroundColor:r===2&&"rgba(156,100,244,0.8)"}},variant:"filled",onClick:()=>{e(2)},children:a.boosting.leaderboard}),t(f,{disableElevation:!0,disableRipple:!0,disableFocusRipple:!0,sx:{color:"white",fontWeight:"500"},variant:"filled",children:`${a.boosting.current_crypto}: ${p}`})]}),t(k,{sx:{flexGrow:0},children:t(F,{onClick:()=>{g()},sx:{p:0},children:t(I,{alt:"Remy Sharp",src:s,sx:{border:"2px solid",borderColor:i?"rgba(63,191,63)":"rgba(191,63,63,1)"}})})})]})})})})},et=w({palette:{secondary:{main:"rgba(255,255,255,1)"}}}),W=()=>{const{level:e,currentClass:r,nextClass:c}=y(n=>n.boosting);let a=0;return e/100<1&&(a=parseInt(e)),e>=100&&(a=parseInt(e%100)),e>=700&&(a=100),t(_,{theme:et,children:l(k,{sx:{display:"flex",alignItems:"center",width:"97%",marginLeft:"auto",marginRight:"auto"},children:[t(k,{sx:{minWidth:25},children:t(B,{variant:"body2",color:"secondary",children:r})}),t(k,{sx:{width:"100%",mr:2},children:t(H,{variant:"determinate",value:a,sx:{borderRadius:"3px",backgroundColor:"rgba(80,80,80,0.7)",".MuiLinearProgress-bar":{background:"linear-gradient(to right, #6fcbb6, #9c64f4)"}}})}),t(k,{sx:{minWidth:15},children:t(B,{variant:"body2",color:"secondary",children:c})})]})})};const rt=b.exports.lazy(()=>N(()=>import("./LeaderboardTable.03b62334.js"),["./LeaderboardTable.03b62334.js","./index.75547906.js","./index.897ea0bc.css","./index.7998e83e.js","./Box.f78ee465.js","./extendSxProp.03d0c3b1.js","./Paper.2c015233.js","./TableRow.11ed307c.js","./KeyboardArrowRight.01ef4de7.js","./Toolbar.ba9468f5.js","./Select.4a83c0db.js","./InputBase.c44c9015.js","./MenuItem.a42a82cb.js","./visuallyHidden.f7ffa40e.js"],import.meta.url)),xt=()=>{const e=$(),[r,c]=b.exports.useState(1);return b.exports.useEffect(()=>{(async()=>{const n=await v.post("https://av_boosting/getContracts");e(P({name:n.data.name,photo:n.data.photo,level:n.data.level,contracts:n.data.contracts,crypto:n.data.crypto,inContract:n.data.busy,queue:n.data.queue,currentClass:n.data.currentClass,nextClass:n.data.nextClass}))})()},[]),l("div",{style:{height:"100%"},children:[t(tt,{setCurrentIndex:c,currentIndex:r}),r===1&&l(m,{children:[t(W,{}),t(X,{})]}),r===2&&l(m,{children:[t(W,{}),t(rt,{})]})]})};export{xt as default};

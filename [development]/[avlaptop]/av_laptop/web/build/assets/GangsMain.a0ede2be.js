import{c as E,K as M,r as n,j as o,ad as G,a as e,ae as W,aq as L,T as z,a5 as g}from"./index.75547906.js";import{d as R}from"./Add.57b35495.js";import{I as _}from"./InputMenu.74d70720.js";import{d as j,c as q}from"./ImageExist.908319b5.js";import{d as A}from"./HighlightOff.443e5658.js";import{B as i}from"./Box.f78ee465.js";import{F as D}from"./Fab.aab5fa96.js";import{T as C}from"./Typography.891e39a8.js";import{L as K}from"./LinearProgress.f9451c44.js";import"./TextField.60cc1dec.js";import"./FormControl.ee184ca9.js";import"./InputBase.c44c9015.js";import"./Select.4a83c0db.js";import"./Paper.2c015233.js";import"./Button.359114d2.js";import"./extendSxProp.03d0c3b1.js";const H=E({palette:{secondary:{main:"rgba(255,255,255,1)"}}});function J({value:s,level1:m,level2:p}){return e(z,{theme:H,children:o(i,{sx:{display:"flex",alignItems:"center",marginTop:"-12px"},children:[e(i,{sx:{minWidth:45},children:e(C,{variant:"body2",color:"secondary",children:`Lvl. ${m}`})}),e(i,{sx:{width:"100%",mr:1},children:e(K,{variant:"determinate",value:s,color:"primary"})}),e(i,{sx:{minWidth:45},children:e(C,{variant:"body2",color:"secondary",children:p==="Max"?"Max":`Lvl. ${p}`})})]})})}const ce=()=>{const{lang:s}=M(t=>t.lang),{gangBoss:m,serial:p}=M(t=>t.laptop),[x,b]=n.exports.useState(!1),[r,h]=n.exports.useState(!1),[y,N]=n.exports.useState(!1),[P,S]=n.exports.useState(!1),[T,w]=n.exports.useState(!1),[I,f]=n.exports.useState(0),[k,u]=n.exports.useState(0);let d="Max";d=I+1,d>5&&(d="Max");const B=t=>{!Number(t)||g.post("https://av_gangs/invite",{targetId:t,gangName:r.name})},F=t=>{if(t===p)return;if(g.post("https://av_gangs/remove",{identifier:t,gang:r.name}),r.members.find(l=>l.identifier===t)){const l=r.members.filter(c=>c.identifier!==t),v={...r,members:l};h(v)}},$=t=>{q(t,a=>{if(a){g.post("https://av_gangs/addPhoto",{currentMember:y,image:t});const l=r.members.map(c=>c.identifier===y?{...c,photo:t}:c),v={...r,members:l};h(v)}})};return n.exports.useEffect(()=>{(async()=>{const a=await g.post("https://av_gangs/getData");h(a.data),a.data.level/100<1&&(f(0),u(parseInt(a.data.level))),a.data.level>=100&&(f(parseInt(a.data.level/100)),u(parseInt(a.data.level%100))),a.data.level>=500&&(f(5),u(100))})()},[]),o(G,{children:[P&&e(_,{title:s.gangs.invite_header,callback:B,visible:S}),T&&e(_,{title:s.gangs.photo_header,callback:$,visible:w}),r&&o(i,{sx:{width:"97%",marginLeft:"1.5%",marginTop:"1%"},children:[e("div",{align:"center",style:{color:"white"},children:e("h1",{children:r.label})}),e("span",{align:"center",style:{color:"white"},children:o("h4",{children:[s.gangs.members,": ",r.members.length," |"," ",s.gangs.graffitis,": ",r.graffitis]})}),e(J,{value:k,level1:I,level2:d})]}),e("div",{className:"gang-main",children:r&&r.members?r.members.map((t,a)=>o("div",{className:"gang-container",style:{borderStyle:"solid",borderColor:"rgba(255,255,255,0.01)",backgroundColor:x===a?"rgba(100,100,100,0.2)":"rgba(30, 30, 30, 1.0)"},onMouseEnter:()=>{b(a)},onMouseLeave:()=>{b(!1)},children:[e("span",{className:"member-name",children:t.playerName}),e("span",{className:"member-photo",children:e(W,{alt:t.playerName,src:t.photo,sx:{width:100,height:100,border:"2px solid rgba(255,255,255,0.5)"}})}),m&&x===a?o("span",{className:"member-actions",children:[e(L,{title:s.gangs.photo,placement:"top",children:e(j,{color:"primary",fontSize:"medium",style:{marginRight:"15px"},onClick:()=>{N(t.identifier),w(!0)}})}),e(L,{title:s.gangs.remove,placement:"top",children:e(A,{color:"error",fontSize:"medium",onClick:()=>{F(t.identifier)}})})]}):null]},a)):null}),m&&e(i,{alignSelf:"right",sx:{position:"fixed",width:"100%",bottom:"0",right:"0",marginBottom:"10px"},children:o(D,{color:"primary","aria-label":"add",variant:"extended",onClick:()=>{S(!0)},style:{float:"right",right:"0",marginRight:"15px",marginBottom:"10px"},children:[e(R,{}),s.gangs.invite_button]})})]})};export{ce as default};

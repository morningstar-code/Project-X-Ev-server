import{E as y,F as S,G as T,c as k,a as e,T as _,j as c,d as A,L,r as x,ad as C,al as E,K as f,am as h,an as b,ao as F,a5 as B,ap as W}from"./index.75547906.js";import{S as j,d as G,a as K,R as J}from"./VolumeOff.40e60d42.js";import{B as g}from"./Box.f78ee465.js";import{T as v}from"./Typography.891e39a8.js";import{T as Q}from"./Toolbar.ba9468f5.js";import{P as U}from"./Paper.2c015233.js";import{T as X,a as Y,b as Z,c as N,d as s,e as ee}from"./TableRow.11ed307c.js";import"./index.7998e83e.js";import"./shouldSpreadAdditionalProps.f803cff9.js";import"./visuallyHidden.f7ffa40e.js";import"./extendSxProp.03d0c3b1.js";var w={},re=S.exports;Object.defineProperty(w,"__esModule",{value:!0});var V=w.default=void 0,ae=re(y()),te=T,ne=(0,ae.default)((0,te.jsx)("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"}),"SkipPrevious");V=w.default=ne;var $={},oe=S.exports;Object.defineProperty($,"__esModule",{value:!0});var D=$.default=void 0,ie=oe(y()),le=T,se=(0,ie.default)((0,le.jsx)("path",{d:"m6 18 8.5-6L6 6v12zM16 6v12h2V6h-2z"}),"SkipNext");D=$.default=se;var M={},ce=S.exports;Object.defineProperty(M,"__esModule",{value:!0});var H=M.default=void 0,de=ce(y()),ue=T,pe=(0,de.default)((0,ue.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 16.5v-9l7 4.5-7 4.5z"}),"PlayCircle");H=M.default=pe;var R={},me=S.exports;Object.defineProperty(R,"__esModule",{value:!0});var O=R.default=void 0,be=me(y()),he=T,ge=(0,be.default)((0,he.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"}),"PauseCircleFilled");O=R.default=ge;const xe=k({palette:{primary:{main:"rgba(255,255,255,1)"},secondary:{main:"rgba(255,255,255,0.7)"},playing:{main:"rgba(255, 255, 255,0.4)"}}}),z=r=>{const[a,n]=r.split(":");return Number(a)*60+Number(n)},fe=({currentTime:r,totalTime:a})=>e(_,{theme:xe,children:c(g,{sx:{display:"flex",alignItems:"center",width:"25vw",marginBottom:"0.7%",marginTop:"2px",marginLeft:"10px"},children:[e(g,{sx:{minWidth:45,marginTop:"-4px"},children:e(v,{variant:"body2",color:"secondary",children:`${r}`})}),e(g,{sx:{width:"100%",mr:1},children:e(j,{"aria-label":"SongProgress",value:z(r),min:0,max:z(a),step:1,size:"small",sx:{"& .MuiSlider-track":{border:"none"},"& .MuiSlider-thumb":{display:"none",backgroundColor:"#fff","&:before":{boxShadow:"0 4px 8px rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible, &.Mui-active":{boxShadow:"none"}}}})}),e(g,{sx:{minWidth:45,marginTop:"-4px"},children:e(v,{variant:"body2",color:"secondary",children:`${a}`})})]})}),ve=k({palette:{primary:{main:"rgba(255,255,255,1)"},secondary:{main:"rgba(255,255,255,0.7)"},playing:{main:"rgba(255, 255, 255,0.4)"}}}),ye=({handleVolume:r,volume:a})=>{const n=({target:i})=>{r(i.value)};return e("div",{className:"music-volume",children:c(_,{theme:ve,children:[a<=0?e(G,{color:"secondary",fontSize:"small",style:{marginTop:"6px"}}):e(K,{color:"secondary",fontSize:"small",onClick:()=>{r(0)},style:{marginTop:"6px"}}),e(j,{"aria-label":"Volume",value:a,onChange:n,min:0,max:1,step:.01,size:"small",style:{marginLeft:"10px",marginTop:"2px"},sx:{"& .MuiSlider-track":{border:"none"},"& .MuiSlider-thumb":{backgroundColor:"#fff","&:before":{boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},"&:hover, &.Mui-focusVisible, &.Mui-active":{boxShadow:"none"}}}}),e(A,{color:"secondary",fontSize:"small",style:{marginLeft:"5px",marginTop:"6px"},onClick:()=>{r(1)}})]})})},Se=({recordLabels:r=[]})=>{const a=L(),[n,i]=x.exports.useState(!1),l=(p,t)=>{a(E({currentRecordLabel:t.job,recordLabelColor:t.color,recordLabelImage:t.logo,recordLabelHeader:t.label,recordLabelSubHeader:t.description})),i(p)};return e(C,{children:Object.values(r).map((p,t)=>e("span",{style:{marginTop:"20px",paddingLeft:"5%",color:n===t&&"rgba(255,255,255,1)",display:"block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"70%",borderStyle:n===t&&"none none none solid",borderColor:n===t&&"rgba(30, 215, 96,1)"},onClick:()=>{l(t,p)},children:p.label},t))})},Te=()=>{const{recordLabelColor:r,recordLabelImage:a,recordLabelHeader:n,recordLabelSubHeader:i}=f(l=>l.player);return e(C,{children:c(Q,{sx:{background:`linear-gradient(to bottom, ${r} 0%, rgba(24,24,24,0.1) 95%, rgba(24,24,24,0.1) 250%)`,textShadow:"2px 2px 2px rgba(0, 0, 0, 0.45)",border:"none",pl:{sm:18},pr:{xs:1,sm:1}},children:[e("img",{src:a,style:{maxHeight:"150px",maxWidth:"150px",marginLeft:"10px",marginTop:"10px"},width:150}),c("span",{children:[e(v,{sx:{display:"block",flex:"1 1 100%",marginLeft:"15px"},variant:"h4",id:"tableTitle",component:"div",children:n}),e(v,{sx:{display:"block",flex:"1 1 100%",marginLeft:"15px"},variant:"h6",id:"tableTitle2",component:"div",children:i})]})]})})},Pe=[{id:"artist",numeric:!1,disablePadding:!0,label:"ARTIST"},{id:"song",numeric:!1,disablePadding:!1,label:"SONG NAME"},{id:"added",numeric:!1,disablePadding:!1,label:"DATE ADDED"},{id:"duration",numeric:!1,disablePadding:!1,label:!1}];function ke(){return e(ee,{children:c(N,{children:[e(s,{padding:"checkbox",sx:{border:"none"}}),e(s,{padding:"checkbox",sx:{border:"none"}}),e(s,{padding:"checkbox",sx:{border:"none"}}),e(s,{padding:"checkbox",sx:{border:"none"}}),Pe.map(r=>e(s,{sx:{color:"white",border:"none",fontWeight:"600"},align:r.numeric?"right":"left",padding:r.disablePadding?"none":"normal",children:r.label?r.label:null},r.id))]})})}const _e=()=>{const{musicList:r,isPlaying:a,currentRecordLabel:n,currentSong:i}=f(t=>t.player),l=L(),p=(t,u,m,P)=>{l(h({currentSong:P,currentIndex:t,artist:u,song:m})),l(b({isPlaying:!0}))};return e(g,{sx:{width:"100%"},children:c(U,{sx:{width:"100%",height:"100%",mb:2,backgroundColor:"rgba(24, 24, 24, 0.0)",color:"white",boxShadow:"none"},children:[e(Te,{}),r&&r[n]?e(X,{sx:{border:"none"},children:c(Y,{sx:{backgroundColor:"transparent",height:"100%",color:"white",border:"none"},"aria-labelledby":"tableTitle",size:"medium",children:[e(ke,{rowCount:r.length}),e(Z,{children:Object.values(r[n]).map((t,u)=>{const m=`enhanced-table-checkbox-${u}`;return c(N,{hover:!0,onClick:()=>p(u,t.artist,t.title,t.url),role:"checkbox",tabIndex:-1,sx:{"&.MuiTableRow-root:hover":{backgroundColor:"rgba(50, 50, 50, 0.7)"}},children:[e(s,{sx:{border:"none"}}),e(s,{sx:{border:"none"}}),e(s,{sx:{border:"none"}}),e(s,{padding:"checkbox",sx:{color:"white",border:"none"},children:i===t.url&&a?e("img",{src:"equaliser.gif",width:15}):u+1}),e(s,{sx:{color:"white",border:"none"},component:"th",id:m,scope:"row",padding:"none",children:t.artist}),e(s,{sx:{color:"white",border:"none"},align:"left",children:t.title}),e(s,{sx:{color:"white",border:"none"},align:"left",children:t.date}),e(s,{sx:{color:"white",border:"none"},align:"left"})]},u)})})]})}):null]})})},I=r=>{let a=parseInt(r,10),n=Math.floor(a/3600),i=Math.floor((a-n*3600)/60),l=a-n*3600-i*60;return n<10&&(n="0"+n),i<10&&(i="0"+i),l<10&&(l="0"+l),i+":"+l},Le=k({palette:{primary:{main:"rgba(255,255,255,1)"},secondary:{main:"rgba(255,255,255,0.7)"},playing:{main:"rgba(255, 255, 255,0.4)"}}}),He=()=>{const r=L(),a=f(o=>o.player),{records:n}=f(o=>o.labels),[i,l]=x.exports.useState("0:00"),[p,t]=x.exports.useState(.25),u=o=>{!a.currentSong||r(b({isPlaying:o}))},m=()=>{if(!a.currentSong)return;let o=Number(a.currentIndex)+1,d=a.musicList[a.currentRecordLabel][o];if(!d){r(b({isPlaying:!1})),r(h({currentSong:null,currentIndex:null,artist:"AV",song:"AV Scripts"}));return}o<=a.musicList[a.currentRecordLabel].length&&(r(h({currentSong:d.url,currentIndex:o,artist:d.artist,song:d.title})),r(b({isPlaying:!0})))},P=()=>{if(!a.currentSong)return;let o=Number(a.currentIndex)-1,d=a.musicList[a.currentRecordLabel][o];if(!d){r(b({isPlaying:!1})),r(h({currentSong:null,currentIndex:null,artist:"AV",song:"AV Scripts"}));return}r(h({currentSong:d.url,currentIndex:o,artist:d.artist,song:d.title})),r(b({isPlaying:!0}))},q=o=>{l(I(o.playedSeconds))};return x.exports.useEffect(()=>{(async()=>{const d=await B.get("https://av_laptop/getSongs");r(W({musicList:d.data}))})()},[]),c(C,{children:[e("div",{className:"music-tracks-panel",children:e(_e,{})}),e("div",{className:"music-left-panel",children:c("div",{align:"center",style:{marginTop:"20px"},children:[e("span",{style:{color:"rgba(255,255,255,0.3",fontSize:"14px"},children:"Record Labels"}),e(Se,{recordLabels:n})]})}),e("div",{className:"music-bottom-panel",children:c("div",{className:"music-controls",children:[e(_,{theme:Le,children:c("div",{style:{fontSize:"26px"},children:[e(V,{fontSize:"inherit",color:"secondary",style:{marginTop:"3px"},onClick:P}),a.isPlaying?e(O,{fontSize:"inherit",color:"primary",onClick:()=>{u(!1)},style:{marginTop:"3px"}}):e(H,{fontSize:"inherit",color:"primary",onClick:()=>{u(!0)},style:{marginTop:"3px"}}),e(D,{fontSize:"inherit",color:"secondary",style:{marginTop:"3px"},onClick:m})]})}),e(fe,{currentTime:i,totalTime:a.totalTime}),e(J,{url:a.currentSong,width:30,height:20,playing:a.isPlaying,volume:p,onEnded:m,onReady:()=>{u(!0)},onProgress:q,onDuration:o=>{r(F({totalTime:I(o)}))},style:{marginTop:"6px"}}),c("div",{className:"artist-info",children:[e("span",{className:"artist-info-name",children:a.artist}),e("span",{className:"artist-info-track",children:a.song})]}),e(ye,{handleVolume:t,volume:p})]})})]})};export{He as default};

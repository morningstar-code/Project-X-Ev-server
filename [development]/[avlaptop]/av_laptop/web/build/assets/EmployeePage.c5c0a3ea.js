import{E as j,F as A,G as B,w as R,A as w,K as E,r as S,j as d,a as e,ae as P,L as W,ag as L,a5 as N}from"./index.75547906.js";import{e as q}from"./InputBase.c44c9015.js";import{S as F,M as I}from"./Select.4a83c0db.js";import{M as C}from"./MenuItem.a42a82cb.js";import{A as H}from"./AddButton.dd0f3400.js";import"./Paper.2c015233.js";import"./Add.57b35495.js";import"./Box.f78ee465.js";import"./extendSxProp.03d0c3b1.js";import"./Fab.aab5fa96.js";var _={},$=A.exports;Object.defineProperty(_,"__esModule",{value:!0});var z=_.default=void 0,K=$(j()),O=B,G=(0,K.default)((0,O.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");z=_.default=G;const J=R("div")(({theme:a})=>({position:"relative",border:"solid 1px",borderRadius:a.shape.borderRadius,borderColor:"rgba(0,0,0,0.15)",backgroundColor:w(a.palette.common.white,1),"&:hover":{backgroundColor:w(a.palette.common.white,1)},marginLeft:0})),Q=R(q)(({theme:a})=>({color:"inherit","& .MuiInputBase-input":{padding:a.spacing(1,1,1,0),marginLeft:"5px",width:"100%"}})),U=({employees:a=[],handleSearch:g,handleRank:b,ranks:y,handleFireEmployee:f,setShowInput:x,setInputType:c,setIdentifier:p})=>{const{lang:t}=E(n=>n.lang),[v,u]=S.exports.useState(null),[m,M]=S.exports.useState(""),r=Boolean(v),l=(n,k)=>{u(n.currentTarget),M(k)},o=()=>{u(null)},i=()=>{u(null),x(!0),p(m),c("bonus")},s=()=>{u(null),x(!0),p(m),c("photo")};return d("div",{children:[d("span",{className:"employee-search",children:[d("a",{style:{fontWeight:"600",marginRight:"10px"},children:[a.length," Employees"," "]}),e(J,{children:e(Q,{placeholder:t.business.search,inputProps:{"aria-label":"search"},onChange:g})})]}),a.map((n,k)=>d("div",{className:"employee-card",children:[d("span",{className:"employee-status",children:[e("span",{style:{color:n.online?"#32c28c":"#DD2121",display:"inline-flex",border:"solid 2px",borderColor:n.online?"#32c28c":"#DD2121",borderRadius:"4px",boxShadow:n.online?"1px 1px 3px 1px rgba(50,194,140,0.2)":"1px 1px 3px 1px rgba(221,33,33,0.2)",width:"50px",justifyContent:"center",fontWeight:"500",fontSize:"14px"},children:n.online?t.business.active:t.business.offline}),e(z,{color:"primary",fontSize:"small",style:{float:"right",marginRight:"5px"},onClick:h=>{l(h,n.identifier)}})]}),e("span",{className:"employee-avatar",children:e(P,{alt:n.name,src:n.photo,sx:{height:"75px",width:"75px"}})}),e("span",{className:"employee-name",children:n.name}),e("span",{className:"employee-gradeLabel",children:n.identifier}),e("div",{className:"employee-data",children:e(F,{labelId:"demo-select-small",id:"demo-select-small",variant:"standard",value:n.grade.level,onChange:h=>{b(h.target,n.identifier)},sx:{color:"rgba(0,0,0,0.55)",width:"calc(100%)",justifyContent:"center",alignContent:"center",alignItems:"center",textAlign:"center",fontWeight:"600","&:before":{backgroundColor:"none",border:"none"},"&:after":{backgroundColor:"none",border:"none"},"&:hover:not(.Mui-disabled):before":{backgroundColor:"none",border:"none"},"&:exit":{backgroundColor:"none"}},children:y.map((h,D)=>e(C,{value:h.grade,children:h.gradeLabel},D))})})]},k)),d(I,{id:"basic-menu",anchorEl:v,open:r,onClose:o,MenuListProps:{"aria-labelledby":"basic-button"},color:"inherit",children:[e(C,{onClick:i,children:t.business.give_bonus}),e(C,{onClick:s,children:t.business.change_photo}),e(C,{onClick:()=>{o(),f(m)},children:t.business.fire_employee})]})]})},te=({availableGrades:a,setShowInput:g,setInputType:b,setIdentifier:y})=>{const f=W(),{lang:x}=E(r=>r.lang),{employees:c}=E(r=>r.business),[p,t]=S.exports.useState(c),v=({value:r},l)=>{let o="";for(let s=0;s<a.length;s++)if(a[s].grade==r){o=a[s].gradeLabel;break}const i=c.map(s=>s.identifier===l?{...s,grade:{level:r,name:o}}:s);t(i),f(L({employees:i})),N.post("https://av_restaurants/setGrade",{identifier:l,grade:r})},u=({target:r})=>{const l=r.value.toLowerCase(),o=c.filter(i=>l==""?!1:i.name.toLowerCase().includes(l));o[0]?t(o):t(c)},m=()=>{g(!0),b("employee")};return d("div",{className:"home-container",children:[e(U,{employees:p,handleSearch:u,handleRank:v,ranks:a,handleFireEmployee:r=>{if(N.post("https://av_restaurants/fireEmployee",{identifier:r}),p.find(o=>o.identifier===r)){const o=p.filter(i=>i.identifier!==r);t(o),f(L({employees:o}))}},setShowInput:g,setInputType:b,setIdentifier:y}),e(H,{text:x.business.hire_button,callback:m})]})};export{te as default};

import{w as B,_ as f,r as d,C as W,l as F,a,j as g,e as N,p as K,g as Y,b as re,A as E,i as Le,P as Se,h as _e,n as me,H as $e,E as J,F as Q,G as X,c as Me,K as D,T as Pe,V as ke,ad as ae,aq as ee,a5 as T}from"./index.75547906.js";import{L as O,a as Re,M as we}from"./Select.4a83c0db.js";import{l as fe,g as Ae,M as ge}from"./MenuItem.a42a82cb.js";import{T as q}from"./Typography.891e39a8.js";import{d as Te}from"./Visibility.122d2ec0.js";import{I as te}from"./InputMenu.74d70720.js";import"./Paper.2c015233.js";import"./InputBase.c44c9015.js";import"./extendSxProp.03d0c3b1.js";import"./TextField.60cc1dec.js";import"./FormControl.ee184ca9.js";import"./Button.359114d2.js";const Ge=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Ne=e=>{const{classes:t,inset:s,primary:o,secondary:p,dense:u}=e;return K({root:["root",s&&"inset",u&&"dense",o&&p&&"multiline"],primary:["primary"],secondary:["secondary"]},Ae,t)},Oe=B("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${fe.primary}`]:t.primary},{[`& .${fe.secondary}`]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})(({ownerState:e})=>f({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Ve=d.exports.forwardRef(function(t,s){const o=W({props:t,name:"MuiListItemText"}),{children:p,className:u,disableTypography:r=!1,inset:c=!1,primary:n,primaryTypographyProps:m,secondary:L,secondaryTypographyProps:S}=o,x=F(o,Ge),{dense:$}=d.exports.useContext(O);let h=n!=null?n:p,b=L;const _=f({},o,{disableTypography:r,inset:c,primary:!!h,secondary:!!b,dense:$}),P=Ne(_);return h!=null&&h.type!==q&&!r&&(h=a(q,f({variant:$?"body2":"body1",className:P.primary,component:m!=null&&m.variant?void 0:"span",display:"block"},m,{children:h}))),b!=null&&b.type!==q&&!r&&(b=a(q,f({variant:"body2",className:P.secondary,color:"text.secondary",display:"block"},S,{children:b}))),g(Oe,f({className:N(P.root,u),ownerState:_,ref:s},x,{children:[h,b]}))}),ve=Ve;function je(e){return re("MuiListItem",e)}const ze=Y("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),G=ze,Fe=Y("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),De=Fe;function Be(e){return re("MuiListItemSecondaryAction",e)}Y("MuiListItemSecondaryAction",["root","disableGutters"]);const He=["className"],Ue=e=>{const{disableGutters:t,classes:s}=e;return K({root:["root",t&&"disableGutters"]},Be,s)},Ee=B("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.disableGutters&&t.disableGutters]}})(({ownerState:e})=>f({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),be=d.exports.forwardRef(function(t,s){const o=W({props:t,name:"MuiListItemSecondaryAction"}),{className:p}=o,u=F(o,He),r=d.exports.useContext(O),c=f({},o,{disableGutters:r.disableGutters}),n=Ue(c);return a(Ee,f({className:N(n.root,p),ownerState:c,ref:s},u))});be.muiName="ListItemSecondaryAction";const qe=be,We=["className"],Ke=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Ye=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction]},Je=e=>{const{alignItems:t,button:s,classes:o,dense:p,disabled:u,disableGutters:r,disablePadding:c,divider:n,hasSecondaryAction:m,selected:L}=e;return K({root:["root",p&&"dense",!r&&"gutters",!c&&"padding",n&&"divider",u&&"disabled",s&&"button",t==="flex-start"&&"alignItemsFlexStart",m&&"secondaryAction",L&&"selected"],container:["container"]},je,o)},Qe=B("div",{name:"MuiListItem",slot:"Root",overridesResolver:Ye})(({theme:e,ownerState:t})=>f({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&f({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${De.root}`]:{paddingRight:48}},{[`&.${G.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${G.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:E(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${G.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:E(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${G.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${G.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:E(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:E(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Xe=B("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Ze=d.exports.forwardRef(function(t,s){const o=W({props:t,name:"MuiListItem"}),{alignItems:p="center",autoFocus:u=!1,button:r=!1,children:c,className:n,component:m,components:L={},componentsProps:S={},ContainerComponent:x="li",ContainerProps:{className:$}={},dense:h=!1,disabled:b=!1,disableGutters:_=!1,disablePadding:P=!1,divider:V=!1,focusVisibleClassName:j,secondaryAction:y,selected:M=!1,slotProps:C={},slots:Z={}}=o,i=F(o.ContainerProps,We),l=F(o,Ke),k=d.exports.useContext(O),v=d.exports.useMemo(()=>({dense:h||k.dense||!1,alignItems:p,disableGutters:_}),[p,k.dense,h,_]),I=d.exports.useRef(null);Le(()=>{u&&I.current&&I.current.focus()},[u]);const R=d.exports.Children.toArray(c),de=R.length&&Se(R[R.length-1],["ListItemSecondaryAction"]),H=f({},o,{alignItems:p,autoFocus:u,button:r,dense:v.dense,disabled:b,disableGutters:_,disablePadding:P,divider:V,hasSecondaryAction:de,selected:M}),pe=Je(H),ue=_e(I,s),U=Z.root||L.Root||Qe,z=C.root||S.root||{},w=f({className:N(pe.root,z.className,n),disabled:b},l);let A=m||"li";return r&&(w.component=m||"div",w.focusVisibleClassName=N(G.focusVisible,j),A=$e),de?(A=!w.component&&!m?"div":A,x==="li"&&(A==="li"?A="div":w.component==="li"&&(w.component="div")),a(O.Provider,{value:v,children:g(Xe,f({as:x,className:N(pe.container,$),ref:ue,ownerState:H},i,{children:[a(U,f({},z,!me(U)&&{as:A,ownerState:f({},H,z.ownerState)},w,{children:R})),R.pop()]}))})):a(O.Provider,{value:v,children:g(U,f({},z,{as:A,ref:ue},!me(U)&&{ownerState:f({},H,z.ownerState)},w,{children:[R,y&&a(qe,{children:y})]}))})}),ye=Ze;function et(e){return re("MuiListItemAvatar",e)}Y("MuiListItemAvatar",["root","alignItemsFlexStart"]);const tt=["className"],st=e=>{const{alignItems:t,classes:s}=e;return K({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},et,s)},at=B("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>f({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),ot=d.exports.forwardRef(function(t,s){const o=W({props:t,name:"MuiListItemAvatar"}),{className:p}=o,u=F(o,tt),r=d.exports.useContext(O),c=f({},o,{alignItems:r.alignItems}),n=st(c);return a(at,f({className:N(n.root,p),ownerState:c,ref:s},u))}),he=ot;var ne={},rt=Q.exports;Object.defineProperty(ne,"__esModule",{value:!0});var xe=ne.default=void 0,nt=rt(J()),it=X,lt=(0,nt.default)((0,it.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z"}),"VideoCall");xe=ne.default=lt;var ie={},ct=Q.exports;Object.defineProperty(ie,"__esModule",{value:!0});var oe=ie.default=void 0,dt=ct(J()),pt=X,ut=(0,dt.default)((0,pt.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");oe=ie.default=ut;const mt=Me({palette:{primary:{main:"rgba(255,255,255,1.0)"},secondary:{main:"rgba(255,255,255,0.0)"}},components:{MuiIcon:{styleOverrides:{root:{boxSizing:"content-box",padding:1,fontSize:"1.225rem"}}}}}),ft=({groupList:e=[],input:t,filter:s,deleteGroup:o,showAll:p,shareGroup:u})=>{const{lang:r}=D(y=>y.lang),{isOwner:c}=D(y=>y.laptop),{camPro:n}=r,[m,L]=d.exports.useState(!1),[S,x]=d.exports.useState(null),[$,h]=d.exports.useState(null),b=(y,M)=>{if(m===M){L(!1),p();return}L(M),s(y.innerHTML)},_=y=>{S&&x(null),x(y.currentTarget),h(y.target.innerHTML)},P=()=>{x(null)},V=()=>{o($),x(null)},j=()=>{x(null),u($)};return a(Pe,{theme:mt,children:a("div",{style:{marginTop:"5px",display:"block"},children:g(Re,{dense:!1,disablePadding:!0,children:[c&&g(ye,{onClick:()=>{t(!0)},children:[a(he,{children:a(xe,{fontSize:"medium"})}),a(ve,{style:{marginLeft:"-25px"},primary:n.new_group})]}),e&&e.map((y,M)=>g(ye,{style:{marginTop:"-10px"},children:[a(he,{children:m===M?a(oe,{fontSize:"medium",color:"success"}):a(oe,{fontSize:"medium"})}),a(ve,{defaultValue:y.label,style:{marginLeft:"-25px"},primary:y.label,onClick:C=>{b(C.target,M)},onContextMenu:_}),g(we,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:S,open:S,onClose:P,TransitionComponent:ke,sx:{"& .MuiPaper-root":{backgroundColor:"rgba(20,20,20,0.8)",color:"white"}},children:[a(ge,{onMouseEnter:C=>C.target.style.backgroundColor="rgba(100,100,100,0.5)",onMouseLeave:C=>C.target.style.backgroundColor="rgba(20,20,20,0.8)",onClick:j,children:n.share_group_option}),c&&a(ge,{onMouseEnter:C=>C.target.style.backgroundColor="rgba(100,100,100,0.5)",onMouseLeave:C=>C.target.style.backgroundColor="rgba(20,20,20,0.8)",onClick:V,children:n.delete_group_option})]})]},M))]})})})};var le={},gt=Q.exports;Object.defineProperty(le,"__esModule",{value:!0});var Ce=le.default=void 0,vt=gt(J()),yt=X,ht=(0,vt.default)((0,yt.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");Ce=le.default=ht;var ce={},bt=Q.exports;Object.defineProperty(ce,"__esModule",{value:!0});var Ie=ce.default=void 0,xt=bt(J()),Ct=X,It=(0,xt.default)((0,Ct.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Ie=ce.default=It;const Lt=({camList:e=[],isOwner:t=!1,deleteCam:s,setCamIdentifier:o,currentGroup:p})=>{const{lang:u}=D(n=>n.lang),{camPro:r}=u,c=(n,m)=>{switch(n){case"view":T.post("https://av_cameras/view",{data:m,camList:e,currentGroup:p});break;case"delete":s(m);break;case"share":o(m);break}};return a(ae,{children:e&&e.map((n,m)=>g("div",{children:[a("div",{className:"cam-product",children:g("span",{className:"cam-conteiner",children:[g("span",{style:{display:"inline-block",marginLeft:"1%",width:"50%"},children:[g("strong",{children:[r.camera,":"]})," ",n.name]}),g("span",{style:{display:"inline-block",marginLeft:"1%",width:"50%"},children:[g("strong",{children:[r.location,":"]})," ",n.location," "]}),g("span",{style:{display:"inline-block",marginLeft:"1%",width:"50%"},children:[g("strong",{children:[r.group,":"]})," ",n.groupLabel]})]})}),g("div",{style:{display:"inline-block",float:"right",marginTop:"-57px",marginRight:"3%"},children:[a(ee,{title:r.view_cam_button,placement:"top",children:a(Te,{style:{marginLeft:"10px"},variant:"contained",fontSize:"medium",onClick:()=>{c("view",n)}})}),t&&g(ae,{children:[a(ee,{title:r.delete_cam_button,placement:"top",children:a(Ie,{style:{marginLeft:"10px"},variant:"contained",fontSize:"medium",onClick:()=>{c("delete",n.identifier)}})}),a(ee,{title:r.share_cam_button,placement:"top",children:a(Ce,{style:{marginLeft:"10px"},variant:"contained",fontSize:"medium",onClick:()=>{c("share",n)}})})]})]})]},m))})};const se=e=>e.split(" ").join("").toLowerCase(),Ot=()=>{const{isOwner:e,serial:t}=D(i=>i.laptop),{lang:s}=D(i=>i.lang),[o,p]=d.exports.useState([]),[u,r]=d.exports.useState([]),[c,n]=d.exports.useState([]),[m,L]=d.exports.useState(!1),[S,x]=d.exports.useState("all"),[$,h]=d.exports.useState(!1),[b,_]=d.exports.useState(!1),P=i=>{T.post("https://av_cameras/shareCam",{cam:b,targetId:i})},V=i=>{if(!i)return;const l=se(i),k=[...c,{name:l,label:i}];n(k),T.post("https://av_laptop/newGroup",{name:l,label:i})},j=()=>{r(o),x("all")},y=i=>{if(!o)return;const l=se(i),k=o.filter(v=>v.group.includes(l));r(k),x(l)},M=i=>{const l=se(i);if(c.find(v=>v.name===l)){const v=c.filter(I=>I.name!==l);if(n(v),S===l)r([]);else{const I=o.filter(R=>R.group!==l);p(I),r(I)}T.post("https://av_laptop/removeGroup",{identifier:t,group:l})}},C=i=>{if(u.find(v=>v.identifier===i)){const v=u.filter(I=>I.identifier!==i);r(v)}if(o.find(v=>v.identifier===i)){const v=o.filter(I=>I.identifier!==i);p(v)}T.post("https://av_cameras/delete",{identifier:i})},Z=i=>{T.post("https://av_cameras/shareGroup",{group:$,targetId:i}),h(!1)};return d.exports.useEffect(()=>{(async()=>{const l=await T.post("https://av_laptop/getData",{identifier:t});l.data&&l.data.groups&&n(l.data.groups),l.data&&l.data.cameraList&&p(l.data.cameraList),l.data&&l.data.cameraList&&r(l.data.cameraList)})()},[]),g(ae,{children:[a("div",{className:"campro-sidepanel",children:a(ft,{groupList:c,input:L,filter:y,deleteGroup:M,showAll:j,shareGroup:h})}),m&&a(te,{title:s.camPro.new_group,callback:V,visible:L}),$&&a(te,{title:s.camPro.share_group,callback:Z,visible:h}),b&&a(te,{title:s.camPro.share_cam,callback:P,visible:_}),a("div",{className:"campro-camlist",children:a(Lt,{camList:u,isOwner:e,deleteCam:C,setCamIdentifier:_,currentGroup:S})})]})};export{Ot as default};
